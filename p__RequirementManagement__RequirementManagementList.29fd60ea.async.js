(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{HXv4:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,r,l,s=a("bx4M"),c=(a("2qtc"),a("kLXV")),i=(a("miYZ"),a("tsqr")),o=a("p0pE"),u=a.n(o),m=a("2Taf"),p=a.n(m),d=a("vZ4D"),f=a.n(d),h=a("l4Ni"),g=a.n(h),v=a("ujKo"),E=a.n(v),y=a("MhPg"),_=a.n(y),b=(a("y8nQ"),a("Vl3Y")),w=(a("tU7J"),a("wFql")),x=(a("OaEy"),a("2fM7")),k=a("q1tI"),M=a.n(k),C=a("MuoO"),S=a("7DNP"),R=a("zHco"),q=a("mYNQ"),L=a.n(q),D=(a("14J3"),a("BMrR")),j=(a("jCWc"),a("kPKH")),N=(a("qVdP"),a("jsC+")),F=(a("Pwec"),a("CtXQ")),O=(a("lUTK"),a("BvKs")),P=a("jHYr"),T=a.n(P);function A(e){return function(){var t,a=E()(e);if(I()){var n=E()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return g()(this,t)}}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var V=w["a"].Title,B=w["a"].Text,z=function(e){_()(a,e);var t=A(a);function a(){return p()(this,a),t.apply(this,arguments)}return f()(a,[{key:"render",value:function(){return M.a.createElement("span",{className:L.a.requirementBadge},this.props.count)}}]),a}(k["PureComponent"]),Y=(n=Object(C["connect"])(function(e){return T()(e),{}}),n((l=function(e){_()(a,e);var t=A(a);function a(){var e;p()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.toResumeDetail=function(t){var a=e.props.dispatch;a(S["routerRedux"].push("/requirementManagement/".concat(t)))},e}return f()(a,[{key:"render",value:function(){var e=this,t=M.a.createElement(O["a"],null,M.a.createElement(O["a"].Item,{key:"0"},M.a.createElement("a",{href:"#"},"\u5df2\u8bfb\u5168\u90e8\u6d88\u606f")),M.a.createElement(O["a"].Item,{key:"1"},M.a.createElement("a",{href:"#"},"\u5173\u95ed\u9700\u6c42"))),a=this.props.lists;return M.a.createElement(D["a"],{gutter:[20,20]},a.map(function(a,n){return M.a.createElement(j["a"],{key:n,span:24,sm:12,md:8},M.a.createElement(s["a"],{className:1===a.status?L.a.cardActived:L.a.cardDiactived,onClick:function(){return e.toResumeDetail(n+1)}},a.status?M.a.createElement(z,{count:a.un_read_counts}):M.a.createElement(M.a.Fragment,null),M.a.createElement(N["a"],{overlay:t,trigger:["click"],className:L.a.moreIcon},M.a.createElement(F["a"],{type:"more"})),M.a.createElement(D["a"],{gutter:{md:10},className:L.a.requirementFRow},M.a.createElement(j["a"],{sm:18},M.a.createElement(V,{level:3,style:{color:"#2979ff"}},a.position_name," ",M.a.createElement("span",{className:L.a.requirementStatus},a.status?"\u8fdb\u884c\u4e2d":"\u5df2\u5173\u95ed")),M.a.createElement(B,{style:{fontSize:12}},"\u66f4\u65b0\u4e8e ",a.updated?a.updated:a.creted)),M.a.createElement(j["a"],{sm:6},M.a.createElement(V,{level:2,type:"secondary"},a.percent,"%"),M.a.createElement(B,{type:"secondary",style:{fontSize:12}},"\u9700\u6c42\u6ee1\u8db3\u7387"))),M.a.createElement(D["a"],{className:L.a.schedulesRow},M.a.createElement(j["a"],{md:8},M.a.createElement(B,{style:{fontSize:12}},"\u7b80\u5386\u6536\u96c6\uff1a",a.resume_collection_num)),M.a.createElement(j["a"],{md:8},M.a.createElement(B,{style:{fontSize:12}},"\u7b14\u8bd5\u901a\u8fc7: ",a.written_pass_num)),M.a.createElement(j["a"],{md:8},M.a.createElement(B,{style:{fontSize:12}},"\u9762\u8bd5\u5b8c\u6210: ",a.interview_pass_num)))))}))}}]),a}(k["PureComponent"]),r=l))||r),H=Y,K=(a("7Kak"),a("9yH6")),J=(a("/zsF"),a("PArb")),W=a("jehZ"),Z=a.n(W),$=(a("+L6B"),a("2/Rp")),G=a("d6i3"),Q=a.n(G),U=a("1l/V"),X=a.n(U),ee=(a("5NDa"),a("5rEg")),te=(a("B8Fu"),a("/6kB"),a("qAWK"),a("sRBo"),a("kaz8"));function ae(e){return function(){var t,a=E()(e);if(ne()){var n=E()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return g()(this,t)}}function ne(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var re,le,se,ce,ie=te["a"].Group,oe=function(e){_()(a,e);var t=ae(a);function a(){var e;p()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.onChange=function(t){var a=e.props.onChange;a(t)},e.onCheckAllChange=function(t){var a=e.props,n=a.onChange,r=a.level,l=r.map(function(e){return e.id});n(t.target.checked?l:[])},e}return f()(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.level,n=e.way;return M.a.createElement("div",null,M.a.createElement("div",{style:{borderBottom:"1px solid #E9E9E9"}},M.a.createElement(te["a"],{indeterminate:t&&t.length<a.length&&t.length>0,onChange:this.onCheckAllChange,checked:t&&t.length},"\u5168\u9009")),M.a.createElement("br",null),M.a.createElement(ie,{value:t,onChange:this.onChange},a.map(function(e){return M.a.createElement(M.a.Fragment,null,M.a.createElement(te["a"],{key:e.id,value:e.id},e.name),M.a.createElement("span",null,e.money," \u5143/",n),M.a.createElement("br",null))})))}}]),a}(M.a.Component),ue=oe,me=a("ggUI");function pe(e){return function(){var t,a=E()(e);if(de()){var n=E()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return g()(this,t)}}function de(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var fe,he,ge,ve,Ee=b["a"].Item,ye=x["a"].Option,_e=ee["a"].TextArea,be=w["a"].Title,we=w["a"].Text,xe=(re=Object(C["connect"])(function(e){var t=e.projects,a=e.menu,n=e.loading,r=e.positionManagement,l=e.levelManagement,s=e.projectManagement;return{projects:t.list.data,position:r.list.data,level:l.list.data,projectManagement:s.list.data,companyId:a.companyId,loading:n.effects["LevelManagement/add"]}}),le=b["a"].create(),re(se=le((ce=function(e){_()(a,e);var t=pe(a);function a(){var e;p()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1,showTip:!1,pms:[],position_types:["\u6280\u672f","\u4ea7\u54c1","\u8bbe\u8ba1","\u8fd0\u8425"],service_types:["\u8fdc\u7a0b\u670d\u52a1","\u73b0\u573a\u670d\u52a1"],experiences:["1\u5e74\u4ee5\u5185","1~3\u5e74","3~5\u5e74","5~10\u5e74"],educations:["\u9ad8\u4e2d","\u5927\u4e13","\u672c\u79d1","\u7855\u58eb","\u535a\u58eb"]},e.showModal=function(){e.setState({visible:!0}),e.getProjects(),e.getPosition(0),e.isShowTip()},e.getProjects=X()(Q.a.mark(function t(){var a;return Q.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.props.dispatch,t.next=3,a({type:"projects/getList",payload:{page:1,per_page:1e4,schema:"ProjectWithPmsSchema"}});case 3:case"end":return t.stop()}},t)})),e.getPM=function(){var t=X()(Q.a.mark(function t(a){var n,r,l,s;return Q.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProjects();case 2:return n=e.props,r=n.projects,l=n.form.setFieldsValue,l({pm_id:""}),s=r.filter(function(e){return e.id===a}),t.next=7,e.setState({pms:s.length?s[0].pms:[]});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.getPosition=function(){var t=X()(Q.a.mark(function t(a){var n,r,l;return Q.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.props,r=n.dispatch,l=n.form.setFieldsValue,l({position_id:[],position_levels:[]}),t.next=4,r({type:"levelManagement/saveList",payload:{data:[],page_info:{}}});case 4:return t.next=6,r({type:"positionManagement/getList",payload:{page:1,per_page:1e4,schema:"PositionWithLevelsSchema",salary_type:a}});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.getLevel=function(){var t=X()(Q.a.mark(function t(a){var n,r,l;return Q.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.props,r=n.dispatch,l=n.form.setFieldsValue,l({position_levels:[]}),t.next=4,r({type:"levelManagement/saveList",payload:{data:[],page_info:{}}});case 4:return t.next=6,r({type:"levelManagement/getList",payload:{page:1,per_page:1e4,position_id:a}});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleOk=function(){var t=e.props,a=t.form.validateFields;a(function(t,a){if(!t){var n=u()({},a);e.add(n)}})},e.add=function(t){var a=e.props.dispatch;a({type:"requirementManagement/add",payload:u()({},t),callback:function(t){t?(e.success(),i["a"].success("\u63d0\u4ea4\u6210\u529f")):i["a"].error("\u9519\u8bef")}})},e.isShowTip=function(){Object(me["c"])().then(function(t){e.setState({showTip:t.data.length})})},e.success=X()(Q.a.mark(function t(){var a,n,r;return Q.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.props,n=a.form.resetFields,r=e.props.onSuccess,t.next=5,e.setState({visible:!1});case 5:return t.next=7,n();case 7:return t.next=9,e.resetList();case 9:return t.next=11,r();case 11:case"end":return t.stop()}},t)})),e.handleCancel=function(){e.setState({visible:!1}),e.resetList()},e.resetList=function(){var t=e.props.dispatch;t({type:"levelManagement/saveList",payload:{data:[],page_info:{}}}),t({type:"positionManagement/saveList",payload:{data:[],page_info:{}}}),t({type:"projects/saveList",payload:{data:[],page_info:{}}}),t({type:"projectManagement/saveList",payload:{data:[],page_info:{}}})},e.PMchange=function(t){var a=e.props.projectManagement,n=e.props,r=n.form.setFieldsValue,l=a.filter(function(e){return e.id===t});r({phone:l[0].phone,email:l[0].email})},e}return f()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.level,n=t.projects,r=t.position;console.log(a,n,r);var l=t.form,s=l.getFieldDecorator,i=(l.getFieldValue,this.state),o=i.visible,u=(i.pms,i.showTip,{labelCol:{xs:{span:24},sm:{span:8},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:18}}});return M.a.createElement(M.a.Fragment,null,M.a.createElement("span",{className:L.a.tableListOperator},M.a.createElement($["a"],{onClick:this.showModal,type:"primary"},"\u521b\u5efa\u9700\u6c42")),M.a.createElement(c["a"],{title:"\u521b\u5efa\u9700\u6c42",centered:!0,visible:o,onOk:this.handleOk,onCancel:this.handleCancel,width:600,okText:"\u63d0\u4ea4\u9700\u6c42",destroyOnClose:!0,maskClosable:!1},M.a.createElement(b["a"],null,M.a.createElement(be,{level:4,className:L.a.formSubTitle},"1 \u9700\u6c42\u57fa\u672c\u4fe1\u606f"),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:21},M.a.createElement(Ee,Z()({label:"\u516c\u53f8"},u,{className:L.a.mb0}),M.a.createElement(we,null,"\u4e2d\u4fe1\u5efa\u6295\u6709\u9650\u516c\u53f8")))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:21},M.a.createElement(Ee,Z()({label:"\u804c\u4f4d\u540d\u79f0"},u,{className:L.a.mb1}),s("position_name",{rules:[{required:!0,message:"\u9700\u6c42\u540d\u79f0\u4e0d\u53ef\u4e3a\u7a7a"},{max:64,message:"\u9700\u6c42\u540d\u79f0\u6700\u5927\u957f\u5ea6\u4e3a64"}]})(M.a.createElement(ee["a"],{placeholder:"\u8bf7\u8f93\u5165",type:"text"}))))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:21},M.a.createElement(Ee,Z()({label:"\u804c\u4f4d\u7c7b\u578b"},u,{className:L.a.mb1}),s("position_type",{rules:[{required:!0,message:"\u9700\u6c42\u4eba\u6570\u4e0d\u53ef\u4e3a\u7a7a"}]})(M.a.createElement(x["a"],{onChange:this.getPositionType},this.state.position_types.map(function(e,t){return M.a.createElement(ye,{key:t,value:e},e)})))))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:21},M.a.createElement(Ee,Z()({label:"\u670d\u52a1\u65b9\u5f0f"},u,{className:L.a.mb1}),s("service_type",{rules:[{required:!0,message:"\u9700\u6c42\u8be6\u60c5\u4e0d\u53ef\u4e3a\u7a7a"}]})(M.a.createElement(x["a"],null,this.state.service_types.map(function(e,t){return M.a.createElement(ye,{key:t,value:e},e)})))))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:21},M.a.createElement(Ee,Z()({label:"\u5de5\u4f5c\u5730\u70b9"},u,{className:L.a.mb1}),s("work_place",{rules:[{required:!0,message:"\u5de5\u4f5c\u5730\u70b9\u4e0d\u53ef\u4e3a\u7a7a"}]})(M.a.createElement(ee["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),M.a.createElement(J["a"],{dashed:!0,style:{marginTop:10,marginBottom:10}}),M.a.createElement(be,{level:4,className:L.a.formSubTitle},"2 \u804c\u4f4d\u8981\u6c42"),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:21},M.a.createElement(Ee,Z()({label:"\u7ecf\u9a8c"},u,{className:L.a.mb1}),s("experience",{rules:[{required:!0,message:"\u9700\u6c42\u9879\u76ee\u4e0d\u53ef\u4e3a\u7a7a"}]})(M.a.createElement(x["a"],null,this.state.experiences.map(function(e,t){return M.a.createElement(ye,{key:t,value:e},e)})))))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:21},M.a.createElement(Ee,Z()({label:"\u5b66\u5386"},u,{className:L.a.mb1}),s("education",{rules:[{required:!0,message:"\u9879\u76ee\u7ecf\u7406\u4e0d\u53ef\u4e3a\u7a7a"}]})(M.a.createElement(x["a"],null,this.state.educations.map(function(e,t){return M.a.createElement(ye,{key:t,value:e},e)})))))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:21},M.a.createElement(Ee,Z()({label:"\u5355\u4ef7"},u,{className:L.a.mb1}),s("amount",{initialValue:0,rules:[{required:!0,message:"\u8ba1\u8d39\u6807\u51c6\u4e0d\u53ef\u4e3a\u7a7a"},{message:"\u9700\u6c42\u4eba\u6570\u4e0d\u80fd\u4e3a\u8d1f\u6570",pattern:/^\d+(\.\d+)?$/},{pattern:/^\+?[1-9][0-9]*$/,message:"\u9700\u6c42\u4eba\u6570\u5fc5\u987b\u4e3a\u6b63\u6574\u6570"}]})(M.a.createElement(ee["a"],{type:"text",placeholder:"\u8bf7\u8f93\u5165"}))))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:21},M.a.createElement(Ee,Z()({label:"\u804c\u4f4d\u63cf\u8ff0"},u,{className:L.a.mb1}),s("description",{rules:[{required:!0,message:"\u804c\u4f4d\u4e0d\u53ef\u4e3a\u7a7a"},{max:2e3,message:"\u9700\u6c42\u8be6\u60c5\u6700\u5927\u957f\u5ea6\u4e3a2000"}]})(M.a.createElement(_e,{rows:4,placeholder:"\u8bf7\u8f93\u5165"}))))),M.a.createElement(J["a"],{dashed:!0,style:{marginTop:10,marginBottom:10}}),M.a.createElement(be,{level:4,className:L.a.formSubTitle},"3 \u670d\u52a1\u8981\u6c42"),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:21},M.a.createElement(Ee,Z()({label:"\u59d4\u6258\u4ee3\u627e\u7b80\u5386"},u,{className:L.a.mb0}),s("need_resume",{rules:[{required:!0,message:"\u7ea7\u522b\u4e0d\u53ef\u4e3a\u7a7a"}]})(M.a.createElement(K["a"].Group,{onChange:function(t){return e.getPosition(t.target.value)}},M.a.createElement(K["a"],{value:1},"\u662f"),M.a.createElement(K["a"],{value:0},"\u5426")))))))))}}]),a}(M.a.Component),se=ce))||se)||se),ke=xe,Me=a("wd/R"),Ce=a.n(Me),Se=a("mwIZ"),Re=a.n(Se);function qe(e){return function(){var t,a=E()(e);if(Le()){var n=E()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return g()(this,t)}}function Le(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var De,je,Ne,Fe,Oe=b["a"].Item,Pe=ee["a"].TextArea,Te={0:"\u65e5",1:"\u6708"};fe=Object(C["connect"])(function(e){var t=e.projects,a=e.menu,n=e.loading,r=e.positionManagement,l=e.levelManagement,s=e.projectManagement,c=e.requirementManagement;return{projects:t.list.data,position:r.list.data,level:l.list.data,projectManagement:s.list.data,companyId:a.companyId,loading:n.effects["LevelManagement/add"],detail:c.detail}}),he=b["a"].create(),fe(ge=he((ve=function(e){_()(a,e);var t=qe(a);function a(){var e;p()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1},e.showModal=function(){e.setState({visible:!0}),e.getDetail()},e.getDetail=X()(Q.a.mark(function t(){var a,n,r;return Q.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.props,n=a.dispatch,r=a.id,t.next=3,n({type:"requirementManagement/getDetail",payload:{id:r,schema:"OfferDetailSchema"}});case 3:case"end":return t.stop()}},t)})),e.handleOk=function(){var t=e.props,a=t.form.validateFields;a(function(t,a){if(!t){var n=u()({},a);e.add(n)}})},e.add=function(t){var a=e.props,n=a.dispatch,r=a.id;n({type:"requirementManagement/update",payload:u()({},t,{id:r,schema:"OfferModifySchema"}),callback:function(t){t?(e.success(),i["a"].success("\u63d0\u4ea4\u6210\u529f")):i["a"].error("\u9519\u8bef")}})},e.success=X()(Q.a.mark(function t(){var a,n,r;return Q.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.props,n=a.form.resetFields,r=e.props.onSuccess,t.next=5,e.setState({visible:!1});case 5:return t.next=7,n();case 7:return t.next=9,r();case 9:case"end":return t.stop()}},t)})),e.handleCancel=function(){e.setState({visible:!1}),e.resetList()},e.resetList=function(){var t=e.props.dispatch;t({type:"requirementManagement/saveDetail",payload:{statistics:{}}})},e.rate=function(e,t){var a=Math.round(e/t*100);return a>=100?100:0===e&&0===t?0:Math.round(e/t*100)},e}return f()(a,[{key:"render",value:function(){var e=this.props,t=e.detail,a=t.statistics,n=a.cv_pass_amount,r=void 0===n?0:n,l=a.cv_push_amount,s=void 0===l?0:l,i=a.demand_amount,o=void 0===i?0:i,u=a.entry_amount,m=void 0===u?0:u,p=a.interview_pass_amount,d=void 0===p?0:p,f=e.form.getFieldDecorator,h=this.state.visible,g={labelCol:{xs:{span:24},sm:{span:8},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:18}}},v={labelCol:{xs:{span:24},sm:{span:8},md:{span:10}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:14}}};return M.a.createElement(M.a.Fragment,null,M.a.createElement("span",{className:L.a.tableListOperator},M.a.createElement("span",{onClick:this.showModal,style:{color:"#1890FF"}},"\u8be6\u60c5")),M.a.createElement(c["a"],{title:"\u8be6\u60c5",visible:h,onOk:this.handleOk,onCancel:this.handleCancel,width:600,destroyOnClose:!0,maskClosable:!1},M.a.createElement(b["a"],null,M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:20},M.a.createElement(Oe,Z()({label:"\u9700\u6c42\u540d\u79f0"},g),f("name",{initialValue:t.name,rules:[{required:!0,message:"\u9700\u6c42\u540d\u79f0\u4e0d\u53ef\u4e3a\u7a7a"},{max:64,message:"\u9700\u6c42\u540d\u79f0\u6700\u5927\u957f\u5ea6\u4e3a64"}]})(M.a.createElement(ee["a"],{placeholder:"\u8bf7\u8f93\u5165\u9700\u6c42\u540d\u79f0",type:"text"}))))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:20},M.a.createElement(Oe,Z()({label:"\u9700\u6c42\u4eba\u6570"},g),f("amount",{initialValue:t.amount,rules:[{required:!0,message:"\u9700\u6c42\u4eba\u6570\u4e0d\u53ef\u4e3a\u7a7a"},{message:"\u9700\u6c42\u4eba\u6570\u4e0d\u80fd\u4e3a\u8d1f\u6570",pattern:/^\d+(\.\d+)?$/},{pattern:/^\+?[1-9][0-9]*$/,message:"\u9700\u6c42\u4eba\u6570\u5fc5\u987b\u4e3a\u6b63\u6574\u6570"}]})(M.a.createElement(ee["a"],{placeholder:"\u8bf7\u8f93\u5165\u9700\u6c42\u4eba\u6570"}))))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{md:20},M.a.createElement(Oe,Z()({label:"\u9700\u6c42\u8be6\u60c5"},g),f("description",{initialValue:t.description,rules:[{required:!0,message:"\u9700\u6c42\u8be6\u60c5\u4e0d\u53ef\u4e3a\u7a7a"},{max:2e3,message:"\u9700\u6c42\u8be6\u60c5\u6700\u5927\u957f\u5ea6\u4e3a2000"}]})(M.a.createElement(Pe,{autosize:{minRows:5,maxRows:20},placeholder:"\u8bf7\u8f93\u5165\u9700\u6c42\u8be6\u60c5"}))))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:20},M.a.createElement(Oe,Z()({label:"\u5de5\u4f5c\u70b9"},g),f("work_place",{initialValue:t.work_place,rules:[{required:!0,message:"\u5de5\u4f5c\u5730\u70b9\u4e0d\u53ef\u4e3a\u7a7a"},{max:64,message:"\u5de5\u4f5c\u5730\u70b9\u6700\u5927\u957f\u5ea6\u4e3a64"}]})(M.a.createElement(ee["a"],{placeholder:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u5730\u70b9"}))))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:20},M.a.createElement(Oe,Z()({label:"\u521b\u5efa\u65f6\u95f4"},g),Ce()(t.created).format("YYYY\u5e74MM\u6708DD\u65e5 HH:mm")))),M.a.createElement(J["a"],{dashed:!0}),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:12},M.a.createElement(Oe,Z()({label:"\u9700\u6c42\u9879\u76ee:"},v),Re()(t,"project.name"))),M.a.createElement(j["a"],{span:12},M.a.createElement(Oe,Z()({label:"\u9879\u76ee\u7ecf\u7406:"},v),Re()(t,"pm.real_name")))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:12},M.a.createElement(Oe,Z()({label:"\u8ba1\u8d39\u6a21\u5f0f:"},v),"\u6309".concat(Te[t.salary_type],"\u8ba1\u8d39"))),M.a.createElement(j["a"],{span:12},M.a.createElement(Oe,Z()({label:"\u9879\u76ee\u804c\u4f4d:"},v),Re()(t,"position.name")))),M.a.createElement("div",null),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:20},M.a.createElement(Oe,Z()({label:"\u7ea7\u522b"},g),f("position_levels",{initialValue:Re()(t,"position_levels",[]).map(function(e){return String(e.id)}),rules:[{required:!0,message:"\u7ea7\u522b\u4e0d\u53ef\u4e3a\u7a7a"}]})(M.a.createElement(ue,{level:Re()(t,"position.position_levels",[]),way:Te[t.salary_type]}))))),M.a.createElement(J["a"],{dashed:!0}),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:12},M.a.createElement(Oe,Z()({label:"\u7b80\u5386\u9700\u6c42\u6bd4:"},v),"".concat(s,"/").concat(o))),M.a.createElement(j["a"],{span:12},M.a.createElement(Oe,Z()({label:"\u7b80\u5386\u901a\u8fc7\u7387:"},v),this.rate(r,s),"%"))),M.a.createElement(D["a"],{gutter:{md:8,lg:20,xl:40}},M.a.createElement(j["a"],{span:12},M.a.createElement(Oe,Z()({label:"\u9762\u8bd5\u901a\u8fc7\u7387:"},v),this.rate(d,r),"%")),M.a.createElement(j["a"],{span:12},M.a.createElement(Oe,Z()({label:"\u9700\u6c42\u6ee1\u8db3\u7387:"},v),"".concat(Math.round(m/o*100),"%")))))))}}]),a}(M.a.Component),ge=ve))||ge);function Ae(e){return function(){var t,a=E()(e);if(Ie()){var n=E()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return g()(this,t)}}function Ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Ve,Be,ze,Ye,He=b["a"].Item,Ke=K["a"].Group,Je=ee["a"].TextArea;De=b["a"].create(),je=Object(C["connect"])(function(e){var t=e.engineer,a=e.loading;return{list:t.list,loading:a.effects["engineer/getList"]}}),De(Ne=je((Fe=function(e){_()(a,e);var t=Ae(a);function a(){var e;p()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1},e.showModal=function(){e.setState({visible:!0})},e.close=function(t){var a=e.props,n=a.dispatch,r=a.id,l=a.onSuccess,s=u()({},t,{schema:"OfferShutDownSchema",id:r});n({type:"requirementManagement/close",payload:u()({},s),callback:function(t){t?(i["a"].success("\u63d0\u4ea4\u6210\u529f"),l(),e.setState({visible:!1})):i["a"].error("\u9519\u8bef")}})},e.handleOk=function(){var t=e.props,a=t.form,n=a.validateFields,r=a.resetFields;n(function(t,a){t||(r(),e.close(a))})},e.handleCancel=function(){e.setState({visible:!1})},e}return f()(a,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=this.state.visible,n={labelCol:{xs:{span:24},sm:{span:8},md:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:16}}};return M.a.createElement(k["Fragment"],null,M.a.createElement("a",{type:"primary",onClick:this.showModal,style:{color:"#1890FF"}},"\u5173\u95ed"),M.a.createElement(c["a"],{title:"\u5173\u95ed",visible:a,onOk:this.handleOk,onCancel:this.handleCancel,width:500,destroyOnClose:!0,maskClosable:!1},M.a.createElement(b["a"],null,M.a.createElement(D["a"],{gutter:{md:20,lg:20,xl:40}},M.a.createElement(j["a"],{span:10,md:20,sm:18},M.a.createElement(He,Z()({label:"\u5173\u95ed\u539f\u56e0"},n),t("shut_down_reason",{rules:[{required:!0,message:"\u5173\u95ed\u539f\u56e0"}]})(M.a.createElement(Ke,null,M.a.createElement(K["a"],{value:"project_change"},"\u9879\u76ee\u53d8\u52a8"),M.a.createElement(K["a"],{value:"finished"},"\u4eba\u5458\u5df2\u591f"),M.a.createElement(K["a"],{value:"others"},"\u5176\u4ed6\u539f\u56e0")))))),M.a.createElement(D["a"],{gutter:{md:20,lg:20,xl:40}},M.a.createElement(j["a"],{span:10,md:20,sm:18},M.a.createElement(He,Z()({label:"\u63cf\u8ff0"},n),t("shut_down_note",{rules:[{message:"\u8bf7\u586b\u5199\u5173\u95ed\u9700\u6c42\u539f\u56e0"},{max:256,message:"\u63cf\u8ff0\u6700\u5927\u957f\u5ea6\u4e3a64"}]})(M.a.createElement(Je,{rows:4,placeholder:"\u8bf7\u586b\u5199\u5173\u95ed\u9700\u6c42\u539f\u56e0"}))))))))}}]),a}(M.a.Component),Ne=Fe))||Ne);function We(e){return function(){var t,a=E()(e);if(Ze()){var n=E()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return g()(this,t)}}function Ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var $e=x["a"].Option,Ge=w["a"].Text,Qe=(Ve=Object(C["connect"])(function(e){var t=e.requirementManagement,a=e.menu,n=e.loading;return{list:t.list,companyId:a.companyId,loading:n.effects["requirementManagement/getList"]}}),Be=b["a"].create(),Ve(ze=Be((Ye=function(e){_()(a,e);var t=We(a);function a(){var e;p()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={page:1,per_page:10,status:"open",lists:[{status:1,un_read_counts:55,position_name:"DBA",percent:5,resume_collection_num:350,written_pass_num:200,interview_pass_amount:100},{status:1,un_read_counts:40,position_name:"\u524d\u7aef\u5f00\u53d1\u4eba\u5458",percent:12,resume_collection_num:400,written_pass_num:220,interview_pass_amount:80},{status:0,un_read_counts:0,position_name:"Java\u5de5\u7a0b\u5e08",percent:46,resume_collection_num:500,written_pass_num:300,interview_pass_amount:200},{status:0,un_read_counts:0,position_name:"DBA",percent:42,resume_collection_num:500,written_pass_num:300,interview_pass_amount:200},{status:1,un_read_counts:105,position_name:"Java\u5de5\u7a0b\u5e08",percent:6,resume_collection_num:300,written_pass_num:200,interview_pass_amount:100}]},e.onSelectChange=function(t){e.setState({selectedRowKeys:t})},e.getSearch=function(t){e.setState({page:1,per_page:10,status:t},function(){return e.getList()})},e.getList=function(){var t=e.props.dispatch;t({type:"requirementManagement/getList",payload:{page:1,per_page:10,status:"open",sort_id:-1,schema:"OfferDefaultSchemaWithStatistics"}})},e.handleChange=function(t){e.setState({page:t.current},function(){e.getList()})},e.add=function(t){var a=e.props.dispatch;a({type:"requirementManagement/add",payload:u()({},t),callback:function(t){t?i["a"].success("\u63d0\u4ea4\u6210\u529f"):i["a"].error("\u9519\u8bef"),e.getList()}})},e.update=function(t){var a=e.props.dispatch;a({type:"requirementManagement/update",payload:u()({},t),callback:function(t){t?i["a"].success("\u63d0\u4ea4\u6210\u529f"):i["a"].error("\u9519\u8bef"),e.getList()}})},e.deletes=function(t){var a=e.props.dispatch;a({type:"requirementManagement/delete",payload:{id:t},callback:function(t){t?i["a"].success("\u5220\u9664\u6210\u529f"):i["a"].error(t.error.message),e.getList()}})},e.delete=function(t){c["a"].confirm({content:"\u786e\u5b9a\u5220\u9664\u9700\u6c42\u5417\uff1f",onOk:function(){return e.deletes(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"})},e.rate=function(e,t){var a=Math.round(e/t*100);return a>=100?100:0===e&&0===t?0:Math.round(e/t*100)},e}return f()(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){var e=this.props,t=e.list,a=(e.loading,t.statistics),n=a.cv_pass_amount,r=void 0===n?0:n,l=a.cv_push_amount,c=void 0===l?0:l,i=a.demand_amount,o=void 0===i?0:i,u=a.entry_amount,m=void 0===u?0:u,p=a.interview_pass_amount,d=void 0===p?0:p,f=M.a.createElement("div",null,M.a.createElement(x["a"],{defaultValue:"open",style:{width:220},onChange:this.getSearch},M.a.createElement($e,{value:"open"},"\u8fdb\u884c\u4e2d\u7684\u9700\u6c42"),M.a.createElement($e,{value:"closed"},"\u5df2\u5b8c\u6210\u7684\u9700\u6c42")));return M.a.createElement(R["a"],{title:f},M.a.createElement(s["a"],{title:"\u6574\u4f53\u9700\u6c42\u60c5\u51b5",bordered:!1,style:{marginBottom:20}},M.a.createElement("div",{className:L.a.requirementAll},M.a.createElement("div",{className:L.a.cardList},M.a.createElement("div",null,"\u9700\u6c42\u603b\u4eba\u6570"),M.a.createElement("div",null,o)),M.a.createElement("div",{className:L.a.cardList},M.a.createElement("div",null,"\u7b80\u5386\u9700\u6c42\u6bd4"),M.a.createElement("div",null,"".concat(c,"/").concat(o))),M.a.createElement("div",{className:L.a.cardList},M.a.createElement("div",null,"\u7b80\u5386\u901a\u8fc7\u7387"),M.a.createElement("div",null,this.rate(r,c),"%")),M.a.createElement("div",{className:L.a.cardList},M.a.createElement("div",null,"\u9762\u8bd5\u901a\u8fc7\u7387"),M.a.createElement("div",null,this.rate(d,r),"%")),M.a.createElement("div",{className:L.a.cardList},M.a.createElement("div",null,"\u7efc\u5408\u9700\u6c42\u6ee1\u8db3\u7387"),M.a.createElement("div",null,this.rate(m,o),"%")))),M.a.createElement(s["a"],{bordered:!1,title:M.a.createElement(ke,{add:this.add,onSuccess:this.getList}),extra:M.a.createElement(Ge,{style:{color:"#2979FF"}},"\u5df2\u8bfb\u6240\u6709\u6d88\u606f")},M.a.createElement("div",null,M.a.createElement(H,{lists:this.state.lists}))))}}]),a}(k["PureComponent"]),ze=Ye))||ze)||ze);t["default"]=Qe}}]);