(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{AY6b:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,r,c,l=a("bx4M"),i=(a("g9YV"),a("wCAj")),o=(a("+BJd"),a("mr32")),s=(a("Pwec"),a("CtXQ")),u=(a("2qtc"),a("kLXV")),d=(a("miYZ"),a("tsqr")),p=a("p0pE"),m=a.n(p),f=a("2Taf"),h=a.n(f),g=a("vZ4D"),y=a.n(g),v=a("l4Ni"),E=a.n(v),_=a("ujKo"),w=a.n(_),b=a("MhPg"),x=a.n(b),C=(a("y8nQ"),a("Vl3Y")),k=a("q1tI"),j=a.n(k),I=a("MuoO"),L=a("mwIZ"),R=a.n(L),D=a("E+oP"),S=a.n(D),M=a("zHco"),P=a("+E2m"),O=a("Hl3B"),F=a("YXsB"),Y=a("VTIB"),z=a("TSDZ"),T=(a("14J3"),a("BMrR")),V=(a("jCWc"),a("kPKH")),q=a("jehZ"),A=a.n(q),B=(a("5NDa"),a("5rEg"));function Z(e){return function(){var t,a=w()(e);if(H()){var n=w()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return E()(this,t)}}function H(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var W=C["a"].Item,$=(n=C["a"].create(),n((c=function(e){x()(a,e);var t=Z(a);function a(){var e;h()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1},e.showModal=function(){e.setState({visible:!0})},e.handleOk=function(){var t=e.props,a=t.changePassword,n=t.data,r=e.props,c=r.form,l=c.validateFields,i=c.resetFields,o=c.setFields;l(function(t,r){if(!t)if(r.new_password===r.new_password_again){i();var c={new_password:r.new_password,user_id:n.id};a(c),e.setState({visible:!1})}else o({new_password_again:{value:r.new_password_again,errors:[new Error("\u4e24\u6b21\u8f93\u5165\u4e0d\u4e00\u81f4")]}})})},e.handleCancel=function(){e.setState({visible:!1})},e}return y()(a,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=this.state.visible,n={labelCol:{xs:{span:24},sm:{span:8},md:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:16}}};return j.a.createElement(k["Fragment"],null,j.a.createElement("a",{onClick:this.showModal,style:{color:"#1890FF"}},"\u4fee\u6539\u5bc6\u7801"),j.a.createElement(u["a"],{title:"\u4fee\u6539\u5bc6\u7801",visible:a,onOk:this.handleOk,onCancel:this.handleCancel,width:500,destroyOnClose:!0,maskClosable:!1},j.a.createElement(C["a"],null,j.a.createElement(T["a"],{gutter:{md:20,lg:20,xl:40}},j.a.createElement(V["a"],{span:10,md:20,sm:18},j.a.createElement(W,A()({label:"\u65b0\u5bc6\u7801"},n),t("new_password",{rules:[{required:!0,message:"\u65b0\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},{message:"\u5bc6\u7801\u5fc5\u987b\u662f8-16\u4f4d\u7684\u5b57\u6bcd\u3001\u6570\u5b57\u7ec4\u5408\uff08\u4ee5\u5b57\u6bcd\u5f00\u5934\uff09",pattern:/^([A-Za-z])(?![a-zA-Z]+$)[0-9A-Za-z]{7,15}$/}]})(j.a.createElement(B["a"],{placeholder:"\u8bf7\u8f93\u51658-16\u4f4d\u7684\u5b57\u6bcd\u4e0e\u6570\u5b57\u7ec4\u5408",type:"password"}))))),j.a.createElement(T["a"],{gutter:{md:20,lg:20,xl:40}},j.a.createElement(V["a"],{span:10,md:20,sm:18},j.a.createElement(W,A()({label:"\u518d\u8f93\u5165\u4e00\u6b21"},n),t("new_password_again",{rules:[{required:!0,message:"5-15\u4f4d\u6570\u5b57\u6216\u5b57\u6bcd\u7684\u7528\u6237\u540d"}]})(j.a.createElement(B["a"],{placeholder:"\u8bf7\u8f93\u51658-16\u4f4d\u7684\u5b57\u6bcd\u4e0e\u6570\u5b57\u7ec4\u5408",type:"password"}))))))))}}]),a}(j.a.Component),r=c))||r),J=$,K=(a("+L6B"),a("2/Rp")),N=(a("/zsF"),a("PArb")),Q=(a("5Dmo"),a("3S7+")),X=a("wd/R"),G=a.n(X),U=a("tpxX"),ee=a.n(U),te=a("d6i3"),ae=a.n(te),ne=a("1l/V"),re=a.n(ne),ce=a("xqX8"),le=a("+n12");function ie(e){return function(){var t,a=w()(e);if(oe()){var n=w()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return E()(this,t)}}function oe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var se=!1,ue=function(){var e=re()(ae.a.mark(function e(){return ae.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!se){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:return e.next=4,Promise.all([Object(le["c"])("//gw.alipayobjects.com/os/lib/bizcharts/3.4.3/umd/BizCharts.min.js"),Object(le["c"])("//gw.alipayobjects.com/os/lib/antv/data-set/0.10.1/dist/data-set.min.js")]);case 4:return console.log("bizCharts load success"),se=!0,e.abrupt("return",Promise.resolve(!0));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),de=function(e){x()(a,e);var t=ie(a);function a(){var e;h()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),e.state={loading:!se},e}return y()(a,[{key:"componentDidMount",value:function(){var e=re()(ae.a.mark(function e(){return ae.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:this.setState({loading:!1});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this.props.children,t=this.state.loading;return t?j.a.createElement(ce["default"],null):e}}]),a}(j.a.Component),pe=(a("ZhIB"),a("Y/ft")),me=a.n(pe),fe=a("eHn4"),he=a.n(fe),ge=a("TSYQ"),ye=a.n(ge),ve=a("WDld"),Ee=a.n(ve);function _e(e){return function(){var t,a=w()(e);if(we()){var n=w()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return E()(this,t)}}function we(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var be,xe,Ce,ke,je=function(e){var t;switch(typeof e){case"undefined":t=null;break;case"function":t=j.a.createElement("div",{className:Ee.a.total},e());break;default:t=j.a.createElement("div",{className:Ee.a.total},e)}return t},Ie=(j.a.PureComponent,function(e){return function(t){return j.a.createElement(k["Suspense"],{fallback:null},j.a.createElement(e,t))}}),Le=(Ie(j.a.lazy(function(){return Promise.all([a.e(0),a.e(36)]).then(a.bind(null,"LJjV"))})),Ie(j.a.lazy(function(){return Promise.all([a.e(0),a.e(31)]).then(a.bind(null,"JnT6"))}))),Re=(Ie(j.a.lazy(function(){return Promise.all([a.e(0),a.e(32)]).then(a.bind(null,"Q3tE"))})),Ie(j.a.lazy(function(){return Promise.all([a.e(0),a.e(37)]).then(a.bind(null,"FLM/"))})),Ie(j.a.lazy(function(){return Promise.all([a.e(0),a.e(38)]).then(a.bind(null,"1+VL"))})),Ie(j.a.lazy(function(){return Promise.all([a.e(0),a.e(39)]).then(a.bind(null,"gMQw"))})),Ie(j.a.lazy(function(){return a.e(30).then(a.bind(null,"lfV+"))})),Ie(j.a.lazy(function(){return a.e(29).then(a.bind(null,"qp7c"))})),Ie(j.a.lazy(function(){return Promise.all([a.e(0),a.e(35)]).then(a.bind(null,"ZzQo"))})),Ie(j.a.lazy(function(){return Promise.all([a.e(0),a.e(33)]).then(a.bind(null,"IJET"))})),Ie(j.a.lazy(function(){return Promise.all([a.e(0),a.e(34)]).then(a.bind(null,"YWDv"))})),a("3MfD")),De=(a("fOrg"),a("+KLJ")),Se=(a("7Kak"),a("9yH6")),Me=a("fFZ8"),Pe=a.n(Me),Oe=a("vOnD"),Fe=a("mH3f");function Ye(e){return function(){var t,a=w()(e);if(ze()){var n=w()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return E()(this,t)}}function ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Te(){var e=Pe()(["\n  text-align: center;\n  :hover {\n    color: #1890ff;\n  }\n"]);return Te=function(){return e},e}var Ve,qe,Ae,Be=Oe["a"].h5(Te()),Ze=(be=Object(I["connect"])(function(e){var t=e.menu,a=e.loading;return{companyId:t.companyId,loading:a.effects["LevelManagement/add"]}}),xe=C["a"].create(),be(Ce=xe((ke=function(e){x()(a,e);var t=Ye(a);function a(){var e;h()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1,submitting:!1},e.showModal=function(){e.setState({visible:!0})},e.handleOk=function(){var t=e.props,a=t.form.validateFields,n=t.id;a(function(t,a){if(console.log(a),!t){var r=m()({id:n,schema:"OrderRenewMethodSchema"},a);e.add(r)}})},e.add=function(t){e.setState({submitting:!0}),Object(Fe["b"])(t).then(function(t){e.setState({submitting:!1}),t?(e.success(t),d["a"].success("\u63d0\u4ea4\u6210\u529f")):d["a"].error("\u9519\u8bef")})},e.success=re()(ae.a.mark(function t(){var a,n,r;return ae.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.props,n=a.form.resetFields,r=e.props.onSuccess,t.next=5,n();case 5:return t.next=7,r();case 7:e.setState({visible:!1});case 8:case"end":return t.stop()}},t)})),e.handleCancel=function(){e.setState({visible:!1})},e}return y()(a,[{key:"render",value:function(){var e=this.props,t=e.form,a=t.getFieldDecorator,n=t.getFieldValue,r=e.authRenew,c=e.renewCycle,l=e.text,i=this.state,o=i.visible,s=i.submitting,d={labelCol:{xs:{span:24},sm:{span:8},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:18}}};return j.a.createElement(j.a.Fragment,null,j.a.createElement(Be,{onClick:this.showModal},l),j.a.createElement(u["a"],{title:"\u5207\u6362\u91c7\u8d2d\u8ba2\u5355\u7b7e\u7ea6\u5f62\u5f0f",visible:o,onOk:this.handleOk,onCancel:this.handleCancel,width:600,maskClosable:!1,confirmLoading:s},j.a.createElement(C["a"],null,j.a.createElement(C["a"].Item,A()({},d,{label:"\u7eed\u8d39\u65b9\u5f0f"}),a("auto_renew",{initialValue:r,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8f6c\u8d26\u91d1\u989d"}]})(j.a.createElement(Se["a"].Group,{name:"radiogroup"},j.a.createElement(Se["a"],{value:0},"\u81ea\u52a8\u7eed\u7b7e"),j.a.createElement(Se["a"],{value:1},"\u624b\u52a8\u7eed\u7b7e"))),0===n("auto_renew")&&j.a.createElement(De["a"],{description:"\u63d0\u793a\uff1a\u5f53\u524d\u91c7\u8d2d\u8ba2\u5355\u5269\u4f5915\u5929\u65f6\u81ea\u52a8\u7eed\u7b7e\u4e0b\u4e00\u4efd\u91c7\u8d2d\u8ba2\u5355",type:"info"})),0===n("auto_renew")&&j.a.createElement(C["a"].Item,A()({},d,{label:"\u7eed\u8d39\u65f6\u95f4"}),a("renew_cycle",{initialValue:c,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8f6c\u8d26\u91d1\u989d"}]})(j.a.createElement(Se["a"].Group,{name:"radiogroup"},j.a.createElement(Se["a"],{value:3},"3\u4e2a\u6708"),j.a.createElement(Se["a"],{value:6},"6\u4e2a\u6708"),j.a.createElement(Se["a"],{value:12},"1\u5e74")))))))}}]),a}(j.a.Component),Ce=ke))||Ce)||Ce),He=Ze;function We(e){return function(){var t,a=w()(e);if($e()){var n=w()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return E()(this,t)}}function $e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Je,Ke,Ne,Qe,Xe=[{title:"\u91c7\u8d2d\u8ba2\u5355\u65f6\u95f4",dataIndex:"date",align:"center"},{title:"\u51fa\u52e4\u5929\u6570",render:function(e){return e.work_days||0},align:"center"},{title:"\u4f11\u606f\u5929\u6570",render:function(e){return e.rest_days||0},align:"center"},{title:"\u52a0\u73ed\u5929\u6570",render:function(e){return e.extra_work_days||0},align:"center"},{title:"\u8bf7\u5047\u5929\u6570",render:function(e){return e.leave_days||0},align:"center"},{title:"\u5012\u4f11\u5929\u6570",render:function(e){return e.shift_days||0},align:"center"},{title:"\u65f7\u5de5\u5929\u6570",render:function(e){return e.absent_days||0},align:"center"}],Ge=[{title:"\u65e5\u671f",dataIndex:"date",align:"center",render:function(e){return G()(e).format("YYYY\u5e74MM\u6708DD\u65e5")}},{title:"\u5185\u5bb9",dataIndex:"content",align:"center",width:"40%"},{title:"\u65f6\u957f(h)",dataIndex:"duration",align:"center"},{title:"\u5907\u6ce8",dataIndex:"note",align:"center"}],Ue=(Ve=Object(I["connect"])(function(e){var t=e.enterProjects,a=e.loading;return{engineerOrder:t.engineerOrder,loading:a.effects["enterProjects/getEngineerOrder"]}}),Ve((Ae=function(e){x()(a,e);var t=We(a);function a(){var e;h()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1},e.showModal=function(){e.setState({visible:!0}),e.getList()},e.handleCancel=function(){var t=e.props.dispatch;e.setState({visible:!1}),t({type:"enterProjects/clearEngineerOrder"})},e.getList=function(){var t=e.props,a=t.dispatch,n=t.id;a({type:"enterProjects/getEngineerOrder",payload:{id:n,schema:"OrderWithDailyLogs"}})},e}return y()(a,[{key:"render",value:function(){var e=this.state.visible,t=this.props,a=t.engineerOrder,n=a.daily_logs,r=a.statistics,c=t.date,l=t.loading,o={pageSize:10,total:n.length};return j.a.createElement(k["Fragment"],null,j.a.createElement("span",null,j.a.createElement("a",{type:"plus-circle",onClick:this.showModal},"\u5de5\u65f6\u8be6\u60c5")),j.a.createElement(u["a"],{title:"\u5de5\u65f6\u8be6\u60c5",visible:e,onOk:this.handleOk,onCancel:this.handleCancel,width:850,destroyOnClose:!0,maskClosable:!1,footer:null},j.a.createElement(i["a"],{columns:Xe,rowKey:function(e){return e.id},dataSource:[m()({},r,{date:c})],pagination:!1,loading:l}),j.a.createElement(N["a"],{dashed:!0}),j.a.createElement(i["a"],{columns:Ge,rowKey:function(e){return e.id},dataSource:n,pagination:m()({},o),onChange:this.handleChange,loading:l})))}}]),a}(j.a.Component),qe=Ae))||qe),et=Ue,tt=a("DQuM"),at=a.n(tt);function nt(e){return function(){var t,a=w()(e);if(rt()){var n=w()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return E()(this,t)}}function rt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var ct,lt,it,ot,st={0:"\u8fdb\u884c\u4e2d",1:"\u5df2\u7ed3\u675f",2:"\u5f85\u5f00\u59cb"},ut="\u91c7\u8d2d\u8ba2\u5355\u8fdb\u5ea6\u6309\u7167\u6bcf\u670822\u4e2a\u5de5\u4f5c\u65e5\u4e3a\u57fa\u7840\u8ba1\u7b97\uff0c\u5177\u4f53\u8bf7\u4ee5\u5b9e\u9645\u53d1\u751f\u4e3a\u51c6\u3002",dt={0:"\u81ea\u52a8\u7eed\u7b7e",1:"\u624b\u52a8\u7eed\u7b7e"},pt={0:"",3:"\uff083\u4e2a\u6708\uff09",6:"\uff086\u4e2a\u6708\uff09",12:"\uff08\u4e00\u5e74\uff09"},mt=(Je=Object(I["connect"])(function(e){var t=e.requirementManagement,a=e.menu,n=e.loading;return{list:t.list,companyId:a.companyId,loading:n.effects["requirementManagement/getList"]}}),Ke=C["a"].create(),Je(Ne=Ke((Qe=function(e){x()(a,e);var t=nt(a);function a(){var e;h()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),e.state={page:1,per_page:10},e.rate=function(e,t){if(!e||!t)return 0;var a=new Date(e).getTime(),n=new Date(t).getTime(),r=(new Date).getTime(),c=(r-a)/(n-a);return c<=0?0:c>1?100:ee()(100*c)},e.delete=function(t){u["a"].confirm({content:"\u786e\u5b9a\u5220\u9664\u9700\u6c42\u5417\uff1f",onOk:function(){return e.deletes(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"})},e.handleChange=function(t){e.setState({page:t.current},function(){e.getList()})},e.getList=function(){var t=new URL(window.location.href),a=t.searchParams.get("id"),n=e.props,r=n.dispatch,c=n.companyId;r({type:"requirementManagement/getList",payload:m()({},e.state,{company_id:a||c,sort_id:-1})})},e}return y()(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.nowCareer,n=void 0===a?{}:a,r=t.orderList,c=void 0===r?[]:r,o=t.loading,u=t.id,d=t.careerId,p=t.onSuccess,f={pageSize:10,total:c.length},h=[{title:"\u91c7\u8d2d\u8ba2\u5355\u65f6\u95f4",render:function(e){var t=e.start_date,a=e.end_date,n=G()(t).format("YYYY\u5e74MM\u6708DD\u65e5"),r=G()(a).format("YYYY\u5e74MM\u6708DD\u65e5");return"".concat(n,"\u81f3").concat(r)}},{title:"\u91c7\u8d2d\u8ba2\u5355\u72b6\u6001",dataIndex:"status",render:function(e){return st[e]}},{title:j.a.createElement("div",null,"\u91c7\u8d2d\u8ba2\u5355\u8fdb\u5ea6",j.a.createElement(Q["a"],{placement:"topLeft",title:ut},j.a.createElement(s["a"],{type:"question-circle"}))),render:function(t){return"".concat(e.rate(t.start_date,t.end_date),"%")}},{title:"\u64cd\u4f5c",align:"center",render:function(e){var t=e.id,a=e.start_date,n=e.end_date,r=G()(a).format("YYYY\u5e74MM\u6708DD\u65e5"),c=G()(n).format("YYYY\u5e74MM\u6708DD\u65e5"),l="".concat(r,"\u81f3").concat(c);return j.a.createElement(k["Fragment"],null,j.a.createElement(P["a"],{id:t}),j.a.createElement(N["a"],{type:"vertical"}),j.a.createElement(et,{id:t,date:l}))}}];return console.log(c),j.a.createElement(j.a.Fragment,null,j.a.createElement(l["a"],{bordered:!1},j.a.createElement("div",null,j.a.createElement(de,null,j.a.createElement(T["a"],{align:"middle",justify:"center",gutter:20},j.a.createElement(V["a"],{span:3,className:at.a.chartBorder},j.a.createElement(Le,{percent:this.rate(c[0].start_date,c[0].end_date),total:"".concat(this.rate(c[0].start_date,c[0].end_date),"%"),height:100}),j.a.createElement(He,{text:"".concat(dt[R()(n,"auto_renew",0)]," ").concat(pt[R()(n,"renew_cycle",0)]||""),id:d,onSuccess:p,authRenew:R()(n,"auto_renew",0),renewCycle:R()(n,"renew_cycle",0)}),j.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},j.a.createElement(Re["a"],{text:j.a.createElement(K["a"],{type:"primary"},"\u7eed\u7b7e"),title:"\u7eed\u7b7e\u91c7\u8d2d\u8ba2\u5355",engineerId:u,onSuccess:p,isRenew:!1}))),j.a.createElement(V["a"],{span:21},j.a.createElement("div",{className:at.a.detailCard},j.a.createElement(i["a"],{loading:o,columns:h,rowKey:function(e){return e.id},dataSource:c.reverse(),onChange:this.handleChange,pagination:m()({},f)}))))))))}}]),a}(k["PureComponent"]),Ne=Qe))||Ne)||Ne),ft=mt,ht=a("6HXB"),gt=(a("bbsP"),a("/wGt")),yt=(a("sRBo"),a("kaz8")),vt=(a("OaEy"),a("2fM7")),Et=a("d8FT"),_t=a.n(Et),wt=a("RHI1"),bt=a.n(wt);function xt(e){return function(){var t,a=w()(e);if(Ct()){var n=w()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return E()(this,t)}}function Ct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var kt,jt,It,Lt,Rt=vt["a"].Option,Dt={0:"\u81ea\u52a8\u7eed\u7b7e",1:"\u624b\u52a8\u7eed\u7b7e"},St={0:"\u6309\u65e5\u8ba1\u8d39",1:"\u6309\u6708\u8ba1\u8d39"},Mt={0:"\u81ea\u4e3b\u62db\u8058",1:"\u5e73\u53f0\u62db\u8058"},Pt={true:1,false:0},Ot={on_duty:"\u6b63\u5e38",leaving:"\u5f85\u51fa\u9879",finish:"\u5df2\u51fa\u9879"},Ft=(ct=C["a"].create(),lt=Object(I["connect"])(function(e){var t=e.projectManagement,a=e.projects,n=e.positionManagement,r=e.levelManagement;return{levelList:r.list.data,positionList:n.list.data,pmList:t.list.data,projectsList:a.list.data}}),ct(it=lt((ot=function(e){x()(a,e);var t=xt(a);function a(){var e;h()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1},e.showDrawer=function(){e.setState({visible:!0})},e.onClose=function(){e.setState({visible:!1})},e.resetFileds=function(){var t=e.props.form.resetFields;t()},e.shiftValueForShow=function(t){var a=e.props,n=a.projectsList,r=a.pmList,c=a.positionList,l=a.levelList,i=_t()(t,function(e){return void 0!==e});return bt()(i,function(e,t){"s_need_renew_order"===t&&(i.s_need_renew_order=i.s_need_renew_order?"\u662f":"\u5426"),"status"===t&&(i.status=Ot[i.status]),"project_id"===t&&(i.project_id=n.filter(function(e){return e.id==i.project_id})[0].name),"pm_id"===t&&(i.pm_id=r.filter(function(e){return e.id==i.pm_id})[0].real_name),"auto_renew"===t&&(i.auto_renew=Dt[i.auto_renew]),"position_id"===t&&(i.position_id=c.filter(function(e){return e.id==i.position_id})[0].name),"position_level_id"===t&&(i.position_level_id=l.filter(function(e){return e.id==i.position_level_id})[0].name),"salary_type"===t&&(i.salary_type=St[i.salary_type]),"use_hr_service"===t&&(i.use_hr_service=Mt[i.use_hr_service])}),i},e.handleOk=function(){var t=e.props,a=t.form.validateFields,n=t.searchChange,r=t.onSearch;a(function(t,a){if(void 0!==a.s_need_renew_order&&(a.s_need_renew_order=Pt[a.s_need_renew_order]),!t){var c=e.shiftValueForShow(a);n(c);var l=Object.keys(c).length>0;l?r(a):r(),e.onClose()}})},e}return y()(a,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.projectsList,n=void 0===a?[]:a,r=e.pmList,c=void 0===r?[]:r,l=e.positionList,i=void 0===l?[]:l,u=e.levelList,d=void 0===u?[]:u,p=this.state.visible,m={labelCol:{xs:{span:24},sm:{span:8},md:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16},md:{span:19}}};return j.a.createElement("a",null,j.a.createElement(s["a"],{type:"filter",onClick:this.showDrawer,style:{fontSize:"20px"}}),j.a.createElement(gt["a"],{title:"\u4eba\u5458\u7b5b\u9009",width:500,onClose:this.onClose,visible:p},j.a.createElement(C["a"],{layout:"vertical",hideRequiredMark:!0},j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,m,t("s_need_renew_order",{valuePropName:"checked"})(j.a.createElement(yt["a"],null,"\u91c7\u8d2d\u8ba2\u5355\u5f85\u7b49\u5f85\u7eed\u7b7e"))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,A()({label:"\u59d3\u540d"},m),t("like_real_name",{})(j.a.createElement(B["a"],{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",maxLength:10}))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,A()({label:"\u624b\u673a\u53f7"},m),t("like_phone",{rules:[{message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7535\u8bdd\u53f7\u7801",pattern:/^1[3456789]\d{9}$/}]})(j.a.createElement(B["a"],{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"}))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,A()({label:"\u4eba\u5458\u72b6\u6001"},m),t("status",{})(j.a.createElement(vt["a"],{placeholder:"\u8bf7\u9009\u62e9\u4eba\u5458\u72b6\u6001",allowClear:!0},Object.keys(Ot).map(function(e){return j.a.createElement(Rt,{key:e,value:e},Ot[e])})))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,A()({label:"\u6240\u5c5e\u9879\u76ee"},m),t("project_id",{})(j.a.createElement(vt["a"],{placeholder:"\u8bf7\u9009\u62e9\u6240\u5c5e\u9879\u76ee",allowClear:!0},n.map(function(e){return j.a.createElement(Rt,{key:e.id},e.name)})))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,A()({label:"\u9879\u76ee\u7ecf\u7406"},m),t("pm_id",{})(j.a.createElement(vt["a"],{placeholder:"\u8bf7\u9009\u62e9\u9879\u76ee\u7ecf\u7406",allowClear:!0},c.map(function(e){return j.a.createElement(Rt,{key:e.id,value:e.id},e.real_name)})))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,A()({label:"\u91c7\u8d2d\u8ba2\u5355\u7b7e\u7ea6\u5f62\u5f0f"},m),t("auto_renew",{})(j.a.createElement(vt["a"],{placeholder:"\u8bf7\u9009\u62e9\u91c7\u8d2d\u8ba2\u5355\u7b7e\u7ea6\u5f62\u5f0f",allowClear:!0},Object.keys(Dt).map(function(e){return j.a.createElement(Rt,{key:e},Dt[e])})))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,A()({label:"\u804c\u4f4d"},m),t("position_id",{})(j.a.createElement(vt["a"],{placeholder:"\u8bf7\u9009\u62e9\u804c\u4f4d",allowClear:!0},i.map(function(e){return j.a.createElement(Rt,{key:e.id},e.name)})))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,A()({label:"\u7ea7\u522b"},m),t("position_level_id",{})(j.a.createElement(vt["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ea7\u522b",allowClear:!0},d.map(function(e){return j.a.createElement(Rt,{key:e.id},j.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},j.a.createElement("span",null,e.name,"(",e.position.name,")"),j.a.createElement(o["a"],{color:"#2db7f5"},St[e.position.salary_type])))})))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,A()({label:"\u8ba1\u8d39\u65b9\u5f0f"},m),t("salary_type",{})(j.a.createElement(vt["a"],{placeholder:"\u8bf7\u9009\u62e9\u8ba1\u8d39\u65b9\u5f0f",allowClear:!0},Object.keys(St).map(function(e){return j.a.createElement(Rt,{key:e,value:e},St[e])})))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:4},"\u4ef7\u683c"),j.a.createElement(V["a"],{span:9},j.a.createElement(C["a"].Item,A()({},m,{style:{display:"flex",justifyContent:"center"}}),t("gte_s_money",{rules:[{message:"\u4ef7\u683c\u4e0d\u80fd\u4e3a\u8d1f\u6570,\u4e14\u53ea\u80fd\u4fdd\u75592\u4f4d\u5c0f\u6570",pattern:/^(([0-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/}]})(j.a.createElement(B["a"],{placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c"})))),j.a.createElement(V["a"],{span:1},"\u81f3"),j.a.createElement(V["a"],{span:9,style:{display:"flex",justifyContent:"center"}},j.a.createElement(C["a"].Item,A()({},m,{style:{display:"flex",justifyContent:"center"}}),t("lte_s_money",{rules:[{message:"\u4ef7\u683c\u4e0d\u80fd\u4e3a\u8d1f\u6570,\u4e14\u53ea\u80fd\u4fdd\u75592\u4f4d\u5c0f\u6570",pattern:/^(([0-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/}]})(j.a.createElement(B["a"],{placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c"}))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:4},"\u7efc\u5408\u6001\u5ea6\u5206"),j.a.createElement(V["a"],{span:9},j.a.createElement(C["a"].Item,A()({},m,{style:{display:"flex",justifyContent:"center"}}),t("gte_attitude_score",{rules:[{message:"\u4ef7\u683c\u4e0d\u80fd\u4e3a\u8d1f\u6570,\u4e14\u53ea\u80fd\u4fdd\u75592\u4f4d\u5c0f\u6570",pattern:/^(([0-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/}]})(j.a.createElement(B["a"],{placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c"})))),j.a.createElement(V["a"],{span:1},"\u81f3"),j.a.createElement(V["a"],{span:9,style:{display:"flex",justifyContent:"center"}},j.a.createElement(C["a"].Item,A()({},m,{style:{display:"flex",justifyContent:"center"}}),t("lte_attitude_score",{rules:[{message:"\u4ef7\u683c\u4e0d\u80fd\u4e3a\u8d1f\u6570,\u4e14\u53ea\u80fd\u4fdd\u75592\u4f4d\u5c0f\u6570",pattern:/^(([0-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/}]})(j.a.createElement(B["a"],{placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c"}))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:4},"\u7efc\u5408\u80fd\u529b\u5206"),j.a.createElement(V["a"],{span:9},j.a.createElement(C["a"].Item,A()({},m,{style:{display:"flex",justifyContent:"center"}}),t("gte_s_ability",{rules:[{message:"\u4ef7\u683c\u4e0d\u80fd\u4e3a\u8d1f\u6570,\u4e14\u53ea\u80fd\u4fdd\u75592\u4f4d\u5c0f\u6570",pattern:/^(([0-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/}]})(j.a.createElement(B["a"],{placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c"})))),j.a.createElement(V["a"],{span:1},"\u81f3"),j.a.createElement(V["a"],{span:9,style:{display:"flex",justifyContent:"center"}},j.a.createElement(C["a"].Item,A()({},m,{style:{display:"flex",justifyContent:"center"}}),t("lte_s_ability",{rules:[{message:"\u4ef7\u683c\u4e0d\u80fd\u4e3a\u8d1f\u6570,\u4e14\u53ea\u80fd\u4fdd\u75592\u4f4d\u5c0f\u6570",pattern:/^(([0-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/}]})(j.a.createElement(B["a"],{placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c"}))))),j.a.createElement(T["a"],{gutter:12},j.a.createElement(V["a"],{span:24},j.a.createElement(C["a"].Item,A()({label:"\u62db\u8058\u5f62\u5f0f"},m),t("use_hr_service",{})(j.a.createElement(vt["a"],{placeholder:"\u8bf7\u9009\u62e9\u62db\u8058\u5f62\u5f0f",allowClear:!0},Object.keys(Mt).map(function(e){return j.a.createElement(Rt,{key:e},Mt[e])}))))))),j.a.createElement("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},j.a.createElement(K["a"],{onClick:this.resetFileds,style:{marginRight:8}},"\u91cd\u7f6e"),j.a.createElement(K["a"],{onClick:this.handleOk,type:"primary"},"\u67e5\u627e"))))}}]),a}(j.a.Component),it=ot))||it)||it),Yt=Ft;function zt(e){return function(){var t,a=w()(e);if(Tt()){var n=w()(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return E()(this,t)}}function Tt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Vt={on_duty:"\u5728\u9879",leaving:"\u5f85\u51fa\u9879"},qt={0:"\u81ea\u52a8\u7eed\u7b7e",1:"\u624b\u52a8\u7eed\u7b7e"},At={0:"\u6309\u65e5\u8ba1\u8d39",1:"\u6309\u6708\u8ba1\u8d39"},Bt={s_need_renew_order:"\u91c7\u8d2d\u8ba2\u5355\u5f85\u7b49\u5f85\u7eed\u7b7e",like_real_name:"\u59d3\u540d",like_phone:"\u624b\u673a\u53f7",status:"\u4eba\u5458\u72b6\u6001",project_id:"\u6240\u5c5e\u9879\u76ee",pm_id:"\u9879\u76ee\u7ecf\u7406",auto_renew:"\u91c7\u8d2d\u8ba2\u5355\u7b7e\u7ea6\u5f62\u5f0f",position_id:"\u804c\u4f4d",position_level_id:"\u7ea7\u522b",salary_type:"\u8ba1\u8d39\u65b9\u5f0f",gte_s_money:"\u6700\u4f4e\u4ef7\u683c",lte_s_money:"\u6700\u9ad8\u4ef7\u683c",gte_attitude_score:"\u6700\u4f4e\u6001\u5ea6\u5206",lte_attitude_score:"\u6700\u9ad8\u6001\u5ea6\u5206",gte_s_ability:"\u6700\u4f4e\u7efc\u5408\u80fd\u529b\u5206",lte_s_ability:"\u6700\u9ad8\u7efc\u5408\u80fd\u529b\u5206",use_hr_service:"\u62db\u8058\u5f62\u5f0f"},Zt={page:1,per_page:1e5},Ht=(kt=Object(I["connect"])(function(e){var t=e.careers,a=e.menu,n=e.loading;return{list:t.list,companyId:a.companyId,loading:n.effects["careers/getList"]}}),jt=C["a"].create(),kt(It=jt((Lt=function(e){x()(a,e);var t=zt(a);function a(){var e;h()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),e.state={page:1,per_page:10,searchValue:{}},e.getSearchData=function(){e.getProject(),e.getPm(),e.getPosition(),e.getLevel()},e.getPm=function(){var t=e.props.dispatch;t({type:"projectManagement/getList",payload:m()({},Zt)})},e.getPosition=function(){var t=e.props.dispatch;t({type:"positionManagement/getList",payload:m()({},Zt)})},e.getLevel=function(){var t=e.props.dispatch;t({type:"levelManagement/getList",payload:m()({},Zt)})},e.getProject=function(){var t=e.props.dispatch;t({type:"projects/getList",payload:m()({},Zt)})},e.getSearch=function(){e.setState({page:1,per_page:10},function(){return e.getList()})},e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lt_status:"finish"},a=e.props.dispatch,n=e.state,r=n.page,c=n.per_page;a({type:"careers/getList",payload:m()({page:r,per_page:c,sort_id:-1,schema:"CareerManageSchema"},t)})},e.handleChange=function(t){e.setState({page:t.current},function(){e.getList()})},e.add=function(t){var a=e.props.dispatch;a({type:"customer/setAdd",payload:m()({},t),callback:function(t){t.success?d["a"].success("\u63d0\u4ea4\u6210\u529f"):d["a"].error(t.error.message),e.getList()}})},e.update=function(t){var a=e.props.dispatch;a({type:"customer/setUpdate",payload:m()({},t),callback:function(t){t.success?d["a"].success("\u63d0\u4ea4\u6210\u529f"):d["a"].error(t.error.message),e.getList()}})},e.deletes=function(t){var a=e.props.dispatch;a({type:"customer/setDelete",payload:m()({},t),callback:function(t){t.success?d["a"].success("\u5220\u9664\u6210\u529f"):d["a"].error(t.error.message),e.getList()}})},e.deletes=function(t){var a=e.props.dispatch;a({type:"customer/setDelete",payload:m()({},t),callback:function(t){t.success?d["a"].success("\u5220\u9664\u6210\u529f"):d["a"].error(t.error.message),e.getList()}})},e.delete=function(t){u["a"].confirm({content:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",onOk:function(){return e.deletes(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"})},e.changePassword=function(t){var a=e.props.dispatch;a({type:"user/changePassword",payload:m()({},t),callback:function(t){t?d["a"].success("\u4fee\u6539\u6210\u529f"):d["a"].error("\u9519\u8bef"),e.getList()}})},e.expandIcon=function(e){var t=e.expanded;return j.a.createElement(s["a"],{onClick:function(t){return e.onExpand(e.record,t)},type:t?"up":"down"})},e}return y()(a,[{key:"componentDidMount",value:function(){var e=this.props.location.query,t=S()(e);this.getSearchData(),t?this.getList():this.getList(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"projectManagement/restList"}),e({type:"projects/restList"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.loading,r=this.state.searchValue,c={pageSize:10,total:a.page_info.total},s=[{title:"\u59d3\u540d",dataIndex:"engineer.real_name",align:"center"},{title:"\u624b\u673a\u53f7\u7801",dataIndex:"phone",align:"center"},{title:"\u5de5\u4f5c\u72b6\u6001",render:function(e){return 2===e.orders[0].status?"\u672a\u5230\u8fbe\u5165\u9879\u65f6\u95f4":Vt[e.engineer_status]},align:"center"},{title:"\u6240\u5c5e\u9879\u76ee",dataIndex:"project",align:"center"},{title:"\u9879\u76ee\u7ecf\u7406",dataIndex:"pm",align:"center"},{title:"\u804c\u4f4d",dataIndex:"position_level.position",align:"center"},{title:"\u7ea7\u522b",dataIndex:"position_level.name",align:"center"},{title:"\u8ba1\u8d39\u65b9\u5f0f",dataIndex:"salary_type",render:function(e){return At[e]},align:"center"},{title:"\u5355\u4ef7",dataIndex:"position_level.money",align:"center"},{title:"\u7efc\u5408\u6001\u5ea6\u5206",render:function(e){return e.attitude_score||0},align:"center"},{title:"\u7efc\u5408\u80fd\u529b\u5206",render:function(e){return e.ability_score||0},align:"center"},{title:"\u7b7e\u7ea6\u5f62\u5f0f",dataIndex:"auto_renew",render:function(e){return qt[e]},align:"center"},{title:"\u64cd\u4f5c",align:"center",render:function(t){var a=t.engineer.id,n=[j.a.createElement(O["a"],{detail:R()(t,"engineer.cv_path",[])}),j.a.createElement(J,{data:t,changePassword:e.changePassword}),j.a.createElement(Y["a"],{id:a}),j.a.createElement(P["a"],{engineerId:a}),j.a.createElement(F["a"],{id:a})];return j.a.createElement(k["Fragment"],null,j.a.createElement(z["a"],{menuList:n}))}}];return j.a.createElement(M["a"],{title:"\u4eba\u5458\u7ba1\u7406"},j.a.createElement(l["a"],{title:j.a.createElement(ht["a"],{onSuccess:this.getList}),bordered:!1,extra:j.a.createElement("div",null,j.a.createElement("div",{style:{display:"flex",flex:1,maxWidth:800}},j.a.createElement("div",null,Object.keys(r).map(function(e){return j.a.createElement(o["a"],null,"".concat(Bt[e],":").concat(r[e]))})),j.a.createElement(Yt,{onSearch:this.getList,searchChange:function(t){return e.setState({searchValue:t})}})))},j.a.createElement("div",null,j.a.createElement(i["a"],{loading:n,size:"small",columns:s,rowKey:function(e){return e.id},dataSource:a.data.filter(function(e){return"finish"!==e.engineer_status}),onChange:this.handleChange,pagination:m()({},c),expandIcon:this.expandIcon,expandedRowRender:function(t){return j.a.createElement(ft,{orderList:t.orders,nowCareer:t,id:t.engineer_id,careerId:t.id,onSuccess:e.getList})}}))))}}]),a}(k["PureComponent"]),It=Lt))||It)||It);t["default"]=Ht},WDld:function(e,t,a){e.exports={chartCard:"antd-pro-components-charts-chart-card-index-chartCard",chartTop:"antd-pro-components-charts-chart-card-index-chartTop",chartTopMargin:"antd-pro-components-charts-chart-card-index-chartTopMargin",chartTopHasMargin:"antd-pro-components-charts-chart-card-index-chartTopHasMargin",metaWrap:"antd-pro-components-charts-chart-card-index-metaWrap",avatar:"antd-pro-components-charts-chart-card-index-avatar",meta:"antd-pro-components-charts-chart-card-index-meta",action:"antd-pro-components-charts-chart-card-index-action",total:"antd-pro-components-charts-chart-card-index-total",content:"antd-pro-components-charts-chart-card-index-content",contentFixed:"antd-pro-components-charts-chart-card-index-contentFixed",footer:"antd-pro-components-charts-chart-card-index-footer",footerMargin:"antd-pro-components-charts-chart-card-index-footerMargin"}}}]);